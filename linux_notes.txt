ubuntu linux

# network
$ cat /etc/netplan/00-installer-config.yaml
network:
  ethernets:
    enp0s3:
      match:
        macaddress: 08:00:27:ce:e8:27
      set-name: enp0s3
      addresses:
        - 192.168.1.16/24
      routes:
        - to: default
          via: 192.168.1.1
      nameservers:
        addresses: [192.168.1.1]
$

# mirrors
# https://launchpad.net/ubuntu/+cdmirrors
# https://mirrors.tuna.tsinghua.edu.cn/ubuntu
# https://mirrors.zju.edu.cn/ubuntu/
# https://mirror.nyist.edu.cn/ubuntu
# https://mirrors.jcut.edu.cn/ubuntu/

$ cat /etc/apt/sources.list.d/ubuntu.sources
Types: deb
#URIs: http://archive.ubuntu.com/ubuntu/
URIs: https://mirrors.tuna.tsinghua.edu.cn/ubuntu
Suites: questing questing-updates questing-backports
Components: main restricted universe multiverse
Signed-By: /usr/share/keyrings/ubuntu-archive-keyring.gpg

Types: deb
#URIs: http://security.ubuntu.com/ubuntu/
URIs: https://mirrors.tuna.tsinghua.edu.cn/ubuntu
Suites: questing-security
Components: main restricted universe multiverse
Signed-By: /usr/share/keyrings/ubuntu-archive-keyring.gpg
$

$ sudo apt update && \
  sudo apt upgrade -y && \
  sudo apt full-upgrade -y && \
  sudo apt autoremove -y --purge && \
  sudo apt autoclean

$ apt search build-essential
$ apt list build-essential
$ apt install build-essential

$ apt install apt-file
$ apt-file update
$ apt-file search --package-only bin/nodejs
$ apt-file search --package-only nodejs
$ apt-file list nodejs

# find by name
$ find directory/ -name "file.txt"
$ find directory/ -iname "file.txt"  # case-insensitive
$ find directory/ -name "*.txt"      # wildcard

# find by content
$ find directory/ -type f -exec grep -l "hello" {} +
$ find directory/ -type f -exec grep -li "Hello" {} +    # case-insensitive
$ find directory/ -type f -exec grep -l 'hello.*' {} +   # regex

# top largest directories
$ du -ah directory/ | sort -hr 2>/dev/null | head -10

$ grep "hello" file.txt
$ grep -i "hello" file.txt    # case-insensitive
$ grep -v "hello" file.txt    # invert match
$ grep -r "hello" directory/  # recursive search in directory

# info sed
# /, ? : serach forward, backward; {, } : next, previous match
# SpaceBar, DEL : page down, up
$ sed 's/old/new/g' file.txt
$ sed 's/old/new/gi' file.txt     # case-insensitive
$ sed -i 's/old/new/g' file.txt   # edit file in-place

# create symlink at the same directory with target: directory/target
$ ln -s target directory/link

# dash (-) can be omitted for backward compatibiity
$ tar -cf files.tar file1.txt file2.txt
$ tar -cf files.tar directory/
$ tar -xf files.tar
